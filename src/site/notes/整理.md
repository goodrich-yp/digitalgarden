---
{"dg-publish":true,"permalink":"/整理/","tags":["gardenEntry"]}
---


一、资料
1、192.168.0.50-Share-Unicorn-CR-Cash Rally-Package下载apk
使用模拟器游玩，注意选择服务器，重启生效

二、网页
1、游戏后台
http://192.168.201.203:8003/cc/
点击Phonex右侧图标，切换到Cash Rally（图标由红变为蓝绿色）
==zhangyipeng
Aih8UN3r85TkwNC==
部分信息修改后需要玩家重新上线生效
2、splunk
[http://18.246.54.146:8000/zh-CN/app/search/search](http://18.246.54.146:8000/zh-CN/app/search/search)  
==zhangyipeng  
密码已更新==

https://39.106.61.177:8000/zh-CN/app/search/search
==zhangyipeng  
密码已更新

3、内部信息（找leader申请权限）
https://drive.google.com/drive/folders/1We6zP6FRq_AcDci5pyIDfK7OHGAKlwIF?ths=true
https://docs.google.com/spreadsheets/d/1wy6rRse5zfc2xAMBVsLIyN0-Drkzsznj4wEY5AhrH6A/edit?gid=445249522#gid=445249522
https://docs.google.com/spreadsheets/d/1PTmMT_dxxrCX7EQb0jC6krJNzvMQNuHQ4u3H_eFpsy0/edit?gid=0#gid=0
https://drive.google.com/drive/folders/12xeoY7pEXQ_G6S6QiOuQTMl6P2WhaGvv?ths=true
https://docs.google.com/spreadsheets/d/1QUWa1X4fjUjtp9YFeO_RCsAwYZkb5vrZAhgs_USbxOU/edit?gid=0#gid=0
[CR主题开放计划 - Google Sheets](https://docs.google.com/spreadsheets/d/1PTmMT_dxxrCX7EQb0jC6krJNzvMQNuHQ4u3H_eFpsy0/edit?gid=0#gid=0)

https://auth.spinxbi.com/nav/projects

三、xshell
1、新建会话：主机mnekkpcbbu-public.bastionhost.aliyuncs.com，端口号60022
```
ssh -p 60022 你的名字拼音@mnekkpcbbu-public.bastionhost.aliyuncs.com
```
登录名为姓名拼音，邮件中有share服务器初始密码
常用指令：
```
screen -r cr9 进1269  
screen -Dr cr9 强制进窗口，踢出占用的其他人  
screen -R cr9 若无该screen则创建后进入  
  
screen 内  
（若是新建的screen）cd /home/CashRally/1269/CashCrazeServer  
git pull && cd ../CashCrazeServer_Math/ && git pull && cd ../CashCrazeServer && python server.py 更代码+起进程  
ctrl+c kill  
ctrl+a+d 退出screen，保留screen内进程  
  
command+a+d 在同一窗口另起一个命令行
```

四、云桌面
新建~/.ssh文件夹
新建config文件：
![3d9db8b3500c455618582b9dfd83df0a.png](/img/user/3d9db8b3500c455618582b9dfd83df0a.png)git clone aligit:CashCrazeMath
git clone aligit:CashCrazeServer

新建文件夹copy一份文件结构并修改
提交推送后git push
![Pasted image 20250722191455.png](/img/user/Pasted%20image%2020250722191455.png)
安装pycharm
解压后进入bin
./pycharm,sh
调整语言：内置安装了中文（可在plugin查看），在设置-外观与行为-系统设置-语言和区域更改
创建快捷方式：工具-创建桌面条目
需要更换解释器为2.7版本，当前为3.6（同路径下应该已经装了2.7，切换一下即可）
版本降低后注意：print格式、除法书写规范等

五、git上线
```
git checkout master
git pull
git checkout 分支名
git merge master
git push
```

六、主题上传测试
1、代码格式调整
确保`CrashCrazeMath/cash_craze`下主题文件夹命名规范
修改`CashCrazeMath/theme_config`下`theme.json/theme_admin.json`文件：
两文件完全相同，每个文件都有三处需要增加新主题信息
2、推送
screen -r cr3
cd ../home/CashRally/1263/CashCrazeServer
起服务`git pull && cd ../CashCrazeServer_Math/ && git pull && cd ../CashCrazeServer && python server.py`
3、图标上传及测试
图标一般在theme_res/theme_icon
登录后台http://192.168.201.203:8003/cc，在Configuration/Theme Config中”选择文件“上传图标，点击”Modified Image“后”submit“
点击下方+添加新主题
刷新，在Themes中找到该主题

注：遇到下图类似消息，随便杀一个就好（kill 21047）
![4de6ac0b09e439879ff89d0ed8461c6b.png](/img/user/4de6ac0b09e439879ff89d0ed8461c6b.png)

**更新coming**
screen -r cr9切换1269，
注意可以先将master合到个人分支，检查无误后再合并到master并上传，切换状态为coming
```
git checkout master
git pull
git merge zyp
git push

记得先git branch查看分支
```
xshell 进入1269，重启检查有无报错



易踩坑汇总：
1、积攒相关的内容一般有三种做法：
1）纯假的
2）和bet相关（不同bet下单独记录）
3）主题内记录两次触发之间的avgbet，触发时使用avgbet

2、奖项倍率
一般只规定GRAND=1000，MINI>=10，剩余自行调整（mini/minor/maxi/major大小关系各主题可能不一样，注意确认）
额外玩法平均触发频率一般控制在7/80~100+次

3、尽量保证各盘面数据类型相同，方便前端贴图标（全为int/list等）

4、若希望在送奖网站上看到respin效果，按照下图所示字段值配置
![333a29d7948fdc6b0dbe22b06271ca34.png](/img/user/333a29d7948fdc6b0dbe22b06271ca34.png)
5、记得在game.py中的do_spin函数末尾添加ctx.reset_prize()，重置作弊代码（否则会出现送奖页面测试正常，但前端客户端测试bug）

6、ng_spin需要传入debug_reels=cheat参数，方便前端直接修改盘面测试
注意当有需要调整item_list格式时，检查是否需要同步调整win_pos_list等字段信息

7、触发fg的盘面赢钱会在fg结束时一并结算，可以理解为将整个fg计入此次basewin，所以最终结算的实质上是触发轮次的赢钱+fg中的总赢钱
但需要注意此次如有赢钱，需要将total_win也加到base_win，下图是错误情况：
![a276fb3ca645843db736373d8c7caa67.png](/img/user/a276fb3ca645843db736373d8c7caa67.png)

8、1269服不能切个人分支，都在master更新



ideas
1、主题相关
固定主题范围、限时参与人数/金额越大，倍率越高
主题淘汰玩法

todo
1、py小程序，出轴用
输入high sym、low sym、special sym三类图标符号（可选数量/占比或）
常见要求：special sym间隔大于xx，统一为：同类/不同类间/不同种间间隔大于xx）
减少/增加high sym/low sym/special sym个数
![Pasted image 20250808140742.png](/img/user/Pasted%20image%2020250808140742.png)
（根据simulation结果自动更新reel信息）
2、调simulation.py，统一下样式，优化使用配置

[pot-app/pot-desktop: 🌈一个跨平台的划词翻译和OCR软件 | A cross-platform software for text translation and recognition.](https://github.com/pot-app/pot-desktop)



