---
{"dg-publish":true,"permalink":"/11036/","tags":["gardenEntry"]}
---


```
# 11036 si_xiang_blessings

调用ng_spin返回win_info信息如下：
reel_info：盘面信息
base_win：该次为ng的赢钱总额
win_ways：赢钱的way info
is_fg：本次是否为fg
fg_win：该次为fg的赢钱总额
theme_data：见下
jp_win：GRAND中奖金额（1000倍bet）   
total_win：base_win+fg_win+jp_win
quest_info
sym_changes：初始为空，当需要出现图标变化动画时写入内容
基本格式为[盘面上原本图标id、reel、row]，reel_info为变化后最终保留显示的图标id
可能需要替换图标的情况为：
收集m1p后变为m1参与赢钱
m1p收集一定数量后全局替换m2/m3/m4/m5为m1
最后一次fg可能通过转出bn触发额外续命，收集后变为原本图标
fg中，w1落地可能变为w2/w3
转到bn，向对应pot收集，并变为其他随机图标
转到sc2，变为bn/booster被收集，最终显示为原本sc2图标
触发神兽助力玩法1时，整列替换格式如下：['FG1',col,[sym1,sym2,sym3,sym4]]
触发神兽助力玩法2时，将若干个w1随即替换为w2/w3
触发神兽助力玩法3时，将随机图标全局替换为m1

其中theme_data由两部分拼接而成：
//随bet变化，存储在ctx.user.theme.data[K_ALL_DISK_DATA][str(bet)]
pot_counter：四种pot收集信息，分bet存储，触发fg后恢复初始数据，{“1”：50，“2”：30，“3”：10，“4”：8}
wheel_phrase：转盘触发的收集进度(0-4)，假概率，每次有一定几率增加1/4，触发转盘时变满
//fg相关信息，存储在ctx.user.theme.data[K_SPIN_FREE_GAME][K_SPIN_FREE_SPIN_DATA]
trigger_info：
type：触发方式，可选值为None/pot/scatter/wheel
pot_id：触发的pot id（1-4）
wh_inf：触发wheel时的转盘结果（pot, times），如（4，1）表示转盘转到pot4,增加1次fg
is_GRAND_triggered：初始为False，本次触发GRAND时为True（会再转一次）
is_wheel_triggered：初始为False，本次触发wheel时为True，用于确定轮盘动画添加时机
fg_info：
fg_trigger：表示是否触发fg
add_fg_spins：此次fg新增的re-trigger次数（一般为0，触发续命时会增加，单次最高为3）
now_fg_spins：目前进行的fg次数（需要显示）
total_fg_spins：此次fg的总次数（需要显示）
fg_extra_count：每次触发fg的续命总次数，目前设置最高为5
fg_finished：表示fg是否结束，simulation调试时用的字段，可忽略，直接用ctx.user.theme.free_spins判断
fg_show_info：（其他需要显示的信息）
m1p_collected_nums：目前收集到的m1p图标个数
remain_nums：距离下阶段相差的m1p个数
closest_symbol_id：下一阶段可以替换的图标id
（初始为(0，4，6)，收集上限为15，记为(15，0，0)）

注：
1、sc2为会变化的sc图标，会生成bn或boost（会记录在sym_changes中），本身与sc1图标相同，但有不同动效，因此直接进行了区分
2、转盘抽中'GRAND'时，会记录在is_GRAND_triggered中，需要播放动画，然后再转一次转盘，此次转盘结果存储在wh_inf
3、可通过每次spin返回的sym_changes信息（记录的是变化前的图标）确定是否需要替换图标，reel_info记录的是变化后的图标

附：
W1/W2/W3：1/2/3
M1/M1P/M2/M3/M4/M5：4/5/6/7/8/9
L1~L6：10~15
B1/B2/B3/B4：16~19
SC1/SC2：20/21
BOOSTER：22
```

更新：
1、根据m1p收集数量配不同轴（调整轴面信息即可）
2、转盘转出grand后继续转，最终一定触发fg
3、进度条
控制是否增长、增长大小；涨满直接触发
4、调消耗60bet的spin次数

注意reel_info中的’up‘和'down'也要贴特殊图标

由于该主题赢钱主要集中在fg，因此基本盘面中mw概率极小，送奖mw同样使用给feature而不是纯盘面（触发fg）
303、304设置：触发进入fg（大概率触发pot 3/4、1/2），统计每次fg后赢钱，不足时替换盘面，保证总ev在设定区间

额外补充：
神兽助力换轴玩法和fg最后一次retrigger出现bn不要在同一列
优化显示m1，当无赢钱时，可替换部分high sym为m1显示
龙fg加保底，防止连续10次没有win的情况
假轴调整：尽量连续、减少特殊图标出现次数或不要太密集
真轴调整，防止同时存在过多数量图标(少配1，尽量2-4连续)

7/29 开放前检查
gm
![Pasted image 20250729142257.png](/img/user/Pasted%20image%2020250729142257.png)

非gm
![Pasted image 20250729155138.png](/img/user/Pasted%20image%2020250729155138.png)

prize=4
![Pasted image 20250729164308.png](/img/user/Pasted%20image%2020250729164308.png)

prize=11
![Pasted image 20250729185554.png](/img/user/Pasted%20image%2020250729185554.png)












